const faviconHandler=()=>{const e=document.querySelector('link[rel="icon"][type="image/x-icon"]');if(!e)return;const t=e.getAttribute("href"),o=document.hidden?t.replace(/(\.[a-z]{2,4})$/,"-inactive$1"):t.replace(/-inactive(\.[a-z]{2,4})$/,"$1");e.setAttribute("href",o)},smoothScrollTo=e=>{e&&("scrollBehavior"in document.documentElement.style?e.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:e.offsetTop,behavior:"smooth"}))},hashChangerHandler=()=>{const e=window.location.hash;if(!e)return;const t=CSS.escape(e),o=document.querySelector(`[href="${t}"]`);o&&smoothScrollTo(o)},updateActiveSection=(()=>{const e=document.querySelectorAll(".c-heading-anchor"),t=document.querySelectorAll(".c-heading-anchor__link");let o;const n=()=>{requestAnimationFrame((()=>{if(window.scrollY<=50&&window.location.hash)return t.forEach((e=>e.classList.remove("c-heading-anchor__link--active"))),void history.replaceState(null,null,window.location.pathname);let o=null,n=0;for(let t=0;t<e.length;t++){const a=e[t],i=a.getBoundingClientRect();if(i.top<window.innerHeight&&i.bottom>0){const e=Math.min(i.bottom,window.innerHeight)-Math.max(i.top,0);e>n&&(n=e,o=a.querySelector("a[class='c-heading-anchor__link']"))}}if(o){const e=o.getAttribute("href");window.location.hash!==e&&(history.replaceState(null,null,e),t.forEach((t=>{t.classList.toggle("c-heading-anchor__link--active",t.getAttribute("href")===e)})))}else t.forEach((e=>e.classList.remove("c-heading-anchor__link--active"))),window.location.hash&&history.replaceState(null,null,window.location.pathname)}))};return()=>{clearTimeout(o),o=setTimeout(n,100)}})(),scrollManager=()=>{window.addEventListener("hashchange",hashChangerHandler),window.location.hash&&requestAnimationFrame((()=>{const e=CSS.escape(window.location.hash),t=document.querySelector(`[href="${e}"]`);t&&requestAnimationFrame((()=>smoothScrollTo(t)))})),window.addEventListener("scroll",updateActiveSection,{passive:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{faviconHandler(),scrollManager()})):(scrollManager(),document.addEventListener("visibilitychange",faviconHandler));